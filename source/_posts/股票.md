---
title: 股票
categories:
  - 分类1
  - 分类2
tags:
  - 标签1
  - 标签2
date: 2021-03-03 21:00:40
---


```

base：

在交易日之前，
    手里没有股票，收益 = 0 
    手里有股票，这是不可能的，收益 = -infinity
dp[-1][k][0] = 0
dp[-1][k][1] = -infinity

在交易日中，只进行了0次交易
    手里没有股票，收益 = 0 
    手里有股票，这是不可能的，收益 = -infinity
    
dp[i][0][0] = 0 
dp[i][0][1] = -infinity


dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i])
dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])

～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
k = 1
dp[i][1][0] = max(dp[i-1][1][0], dp[i-1][1][1] + prices[i])
dp[i][1][1] = max(dp[i-1][1][1], dp[i-1][1-1][0] - prices[i])
            = max(dp[i-1][1][1], dp[i-1][0][0] - prices[i])

 dp[i-1][0][0] = 0

简化后： 
dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) 
dp[i][1] = max(dp[i-1][1], -prices[i])

return dp[n-1][0]
～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
k = +无穷

dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i])
dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i])
            = max(dp[i-1][1], dp[i-1][0] - prices[i])

dp[i-1][0] = 0

简化后： 
dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) 
dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i])

return dp[n-1][0]
～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
k = +无穷 有手续费 fee 

dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) 
dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i] - fee)

～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

k = +无穷 无法在第二天买入股票 (即冷冻期为 1 天)

dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) 
dp[i][1] = max(dp[i-1][1], dp[i-2][0] - prices[i])

～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

k = 2 

dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i])
dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])


```